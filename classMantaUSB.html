<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libmanta: MantaUSB Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">libmanta
   
   </div>
   <div id="projectbrief">A cross-platform API for the Snyderphonics Manta</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">MantaUSB Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="MantaUSB" -->
<p>Superclass that handles the low-level USB communication with the <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>.  
 <a href="classMantaUSB.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="MantaUSB_8h_source.html">MantaUSB.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MantaUSB:</div>
<div class="dyncontent">
<div class="center"><img src="classMantaUSB__inherit__graph.png" border="0" usemap="#MantaUSB_inherit__map" alt="Inheritance graph"/></div>
<map name="MantaUSB_inherit__map" id="MantaUSB_inherit__map">
<area shape="rect" id="node3" href="classManta.html" title="Superclass that provides an interface to the Manta." alt="" coords="19,83,76,111"/><area shape="rect" id="node5" href="classMantaMulti.html" title="Superclass that adds functionality for multiple access to a single Manta." alt="" coords="5,161,91,189"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classMantaUSB-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMantaUSB.html#a38a9bc76333bab47574c63e1fe610002">WriteFrame</a> (uint8_t *frame, bool forceQueued)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a USB transfer frame down to the <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>.  <a href="#a38a9bc76333bab47574c63e1fe610002"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMantaUSB.html#a8464350b672b1c10f537bb2e3147e1c3">IsConnected</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries connection status of the <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>.  <a href="#a8464350b672b1c10f537bb2e3147e1c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMantaUSB.html#a51e68daa5edfbc7ced89b6f9faa86ed5">Connect</a> (int connectionSerial=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects this instance to a <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>.  <a href="#a51e68daa5edfbc7ced89b6f9faa86ed5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf5cac050689cc24982510e8f5adb71c"></a><!-- doxytag: member="MantaUSB::Disconnect" ref="abf5cac050689cc24982510e8f5adb71c" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMantaUSB.html#abf5cac050689cc24982510e8f5adb71c">Disconnect</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects this instance from an attached <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMantaUSB.html#a5be6f8f54e60727c5c9b624125194d45">GetSerialNumber</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries the serial number of the attached <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>.  <a href="#a5be6f8f54e60727c5c9b624125194d45"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMantaUSB.html#a4d55c1c1d9e769ce7a0ef532a72221e8">HandleEvents</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Services USB communciation with the <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>.  <a href="#a4d55c1c1d9e769ce7a0ef532a72221e8"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Superclass that handles the low-level USB communication with the <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>. </p>
<p>The <a class="el" href="classMantaUSB.html" title="Superclass that handles the low-level USB communication with the Manta.">MantaUSB</a> class handles the low-level USB communication with the <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a> over hidAPI, a cross-platform HID library.</p>
<p>The public methods of this class are meant to be used by applciations using libmanta to manage the connection to a physical <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>, as well as servicing the low-level USB drivers by periodically calling the <a class="el" href="classMantaUSB.html#a4d55c1c1d9e769ce7a0ef532a72221e8" title="Services USB communciation with the Manta.">HandleEvents()</a> function. </p>

<p>Definition at line <a class="el" href="MantaUSB_8h_source.html#l00028">28</a> of file <a class="el" href="MantaUSB_8h_source.html">MantaUSB.h</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a51e68daa5edfbc7ced89b6f9faa86ed5"></a><!-- doxytag: member="MantaUSB::Connect" ref="a51e68daa5edfbc7ced89b6f9faa86ed5" args="(int connectionSerial=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMantaUSB.html#a51e68daa5edfbc7ced89b6f9faa86ed5">MantaUSB::Connect</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>connectionSerial</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connects this instance to a <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connectionSerial</td><td>The serial number of the manta to search for.</td></tr>
  </table>
  </dd>
</dl>
<p>If connectionSerial is left out or given as 0 then any connected <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a> will match. If a serial number is given then libmanta will attempt to connect to that <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>. If no matching manta is found then Connect will throw a MantaNotFoundException. If no exception is thrown then the connection can be assumed to have been successful. </p>

<p>Definition at line <a class="el" href="MantaUSB_8cpp_source.html#l00108">108</a> of file <a class="el" href="MantaUSB_8cpp_source.html">MantaUSB.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5be6f8f54e60727c5c9b624125194d45"></a><!-- doxytag: member="MantaUSB::GetSerialNumber" ref="a5be6f8f54e60727c5c9b624125194d45" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classMantaUSB.html#a5be6f8f54e60727c5c9b624125194d45">MantaUSB::GetSerialNumber</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Queries the serial number of the attached <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The serial number as an int </dd></dl>

<p>Definition at line <a class="el" href="MantaUSB_8cpp_source.html#l00224">224</a> of file <a class="el" href="MantaUSB_8cpp_source.html">MantaUSB.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4d55c1c1d9e769ce7a0ef532a72221e8"></a><!-- doxytag: member="MantaUSB::HandleEvents" ref="a4d55c1c1d9e769ce7a0ef532a72221e8" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMantaUSB.html#a4d55c1c1d9e769ce7a0ef532a72221e8">MantaUSB::HandleEvents</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Services USB communciation with the <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>. </p>
<p>HandleEvents should be called periodically to poll all connected Mantas for incoming USB frames as well as to send any messages that have been queued up with <a class="el" href="classMantaUSB.html#a38a9bc76333bab47574c63e1fe610002" title="Writes a USB transfer frame down to the Manta.">WriteFrame()</a>. It should be called at least once every 6ms, but you may get improved results polling as fast as every 1ms if your application supports it.</p>
<p>Note: Because <a class="el" href="classMantaUSB.html#a38a9bc76333bab47574c63e1fe610002" title="Writes a USB transfer frame down to the Manta.">WriteFrame()</a> accesses the same message queue that <a class="el" href="classMantaUSB.html#a4d55c1c1d9e769ce7a0ef532a72221e8" title="Services USB communciation with the Manta.">HandleEvents()</a> does, they should be protected from each other by a mutex on the application level if they're being called from parallel threads. </p>

<p>Definition at line <a class="el" href="MantaUSB_8cpp_source.html#l00164">164</a> of file <a class="el" href="MantaUSB_8cpp_source.html">MantaUSB.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8464350b672b1c10f537bb2e3147e1c3"></a><!-- doxytag: member="MantaUSB::IsConnected" ref="a8464350b672b1c10f537bb2e3147e1c3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classMantaUSB.html#a8464350b672b1c10f537bb2e3147e1c3">MantaUSB::IsConnected</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Queries connection status of the <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if this instance is connected to a physical <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>, false if not </dd></dl>

<p>Definition at line <a class="el" href="MantaUSB_8cpp_source.html#l00092">92</a> of file <a class="el" href="MantaUSB_8cpp_source.html">MantaUSB.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a38a9bc76333bab47574c63e1fe610002"></a><!-- doxytag: member="MantaUSB::WriteFrame" ref="a38a9bc76333bab47574c63e1fe610002" args="(uint8_t *frame, bool forceQueued)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMantaUSB.html#a38a9bc76333bab47574c63e1fe610002">MantaUSB::WriteFrame</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forceQueued</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes a USB transfer frame down to the <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>Pointer to the frame to be transmitted </td></tr>
    <tr><td class="paramname">forceQueued</td><td>Forces this message to be queued instead of merged</td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="classMantaUSB.html#a38a9bc76333bab47574c63e1fe610002" title="Writes a USB transfer frame down to the Manta.">WriteFrame()</a> is meant to be called by the <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a> subclass, which defines methods for the individual messages (setLED, etc). libmanta maintains a message queue that gets popped from in the <a class="el" href="classMantaUSB.html#a4d55c1c1d9e769ce7a0ef532a72221e8" title="Services USB communciation with the Manta.">HandleEvents()</a> handler.</p>
<p>The default behavior is that if a message is already queued up for a given <a class="el" href="classManta.html" title="Superclass that provides an interface to the Manta.">Manta</a>, subsequent message will be merged into the waiting message instead of being further queued (the queued frame will be the end result of all queued messages). forceQueued can be set to true to force the message to be queued as a separate message instead of being merged</p>
<p>Note: Because <a class="el" href="classMantaUSB.html#a38a9bc76333bab47574c63e1fe610002" title="Writes a USB transfer frame down to the Manta.">WriteFrame()</a> accesses the same message queue that <a class="el" href="classMantaUSB.html#a4d55c1c1d9e769ce7a0ef532a72221e8" title="Services USB communciation with the Manta.">HandleEvents()</a> does, they should be protected from each other by a mutex on the application level if they're being called from parallel threads. </p>

<p>Definition at line <a class="el" href="MantaUSB_8cpp_source.html#l00053">53</a> of file <a class="el" href="MantaUSB_8cpp_source.html">MantaUSB.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="MantaUSB_8h_source.html">MantaUSB.h</a></li>
<li><a class="el" href="MantaUSB_8cpp_source.html">MantaUSB.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 10 2012 19:03:34 for libmanta by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
